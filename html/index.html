<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>16-Segment Control</title>
    <!-- Load Blockly core -->
    <script src="./blockly/blockly_compressed.js"></script>
    <!-- Load the default blocks -->
    <script src="./blockly/blocks_compressed.js"></script>
    <!-- Load a generators -->
    <script src="./blockly/javascript_compressed.js"></script>
    <!-- Load a message file -->
    <script src="./blockly/msg/en.js"></script>

</head>
<body>
<div id="toolbox"></div>
<div id="blocklyDiv" style="height: 95cqh; width: 95cqw;"></div>
</body>
<script src="./custom_blocks.js"></script>
<script src="./custom_toolbox.js"></script>
<!--<script src="./complex_toolbox.js"></script>-->
<!--<script src="./simple_toolbox.js"></script>-->
<script>
    const config = {
        grid:
            {
                spacing: 20,
                length: 3,
                colour: "#ccc",
                snap: true
            },
        oneBasedIndex: false,
        sounds: false,
        toolbox: toolbox,
        zoom: {controls: true}

    };
    const workspace = Blockly.inject("blocklyDiv", config);
    workspace.addChangeListener(function (event) {
        if(event.type === Blockly.Events.BLOCK_CHANGE)
            alert(javascript.javascriptGenerator.workspaceToCode(workspace))
        }
    )
    //todo delay block
    //todo text block
</script>

</html>